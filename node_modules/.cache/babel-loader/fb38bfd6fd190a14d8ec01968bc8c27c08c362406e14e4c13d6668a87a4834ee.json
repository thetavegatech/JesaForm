{"ast":null,"code":"var __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n/**\n * RSS util functions.\n */\nvar RSSUtils = /** @class */function () {\n  function RSSUtils() {}\n  RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {\n    var e_1, _a;\n    var n = 0;\n    try {\n      for (var widths_1 = __values(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {\n        var width = widths_1_1.value;\n        n += width;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    var val = 0;\n    var narrowMask = 0;\n    var elements = widths.length;\n    for (var bar = 0; bar < elements - 1; bar++) {\n      var elmWidth = void 0;\n      for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {\n        var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);\n        if (noNarrow && narrowMask === 0 && n - elmWidth - (elements - bar - 1) >= elements - bar - 1) {\n          subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);\n        }\n        if (elements - bar - 1 > 1) {\n          var lessVal = 0;\n          for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {\n            lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);\n          }\n          subVal -= lessVal * (elements - 1 - bar);\n        } else if (n - elmWidth > maxWidth) {\n          subVal--;\n        }\n        val += subVal;\n      }\n      n -= elmWidth;\n    }\n    return val;\n  };\n  RSSUtils.combins = function (n, r) {\n    var maxDenom;\n    var minDenom;\n    if (n - r > r) {\n      minDenom = r;\n      maxDenom = n - r;\n    } else {\n      minDenom = n - r;\n      maxDenom = r;\n    }\n    var val = 1;\n    var j = 1;\n    for (var i = n; i > maxDenom; i--) {\n      val *= i;\n      if (j <= minDenom) {\n        val /= j;\n        j++;\n      }\n    }\n    while (j <= minDenom) {\n      val /= j;\n      j++;\n    }\n    return val;\n  };\n  return RSSUtils;\n}();\nexport default RSSUtils;","map":{"version":3,"names":["RSSUtils","getRSSvalue","widths","maxWidth","noNarrow","n","widths_1","__values","widths_1_1","next","done","width","value","val","narrowMask","elements","length","bar","elmWidth","subVal","combins","lessVal","mxwElement","r","maxDenom","minDenom","j","i"],"sources":["../../../../../src/core/oned/rss/RSSUtils.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}