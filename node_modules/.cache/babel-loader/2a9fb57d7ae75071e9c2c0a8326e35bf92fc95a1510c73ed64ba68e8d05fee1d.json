{"ast":null,"code":"import FormatException from '../../../../FormatException';\nimport IllegalStateException from '../../../../IllegalStateException';\nimport StringBuilder from '../../../../util/StringBuilder';\nimport BlockParsedResult from './BlockParsedResult';\nimport DecodedChar from './DecodedChar';\nimport DecodedInformation from './DecodedInformation';\nimport DecodedNumeric from './DecodedNumeric';\nimport FieldParser from './FieldParser';\nvar GeneralAppIdDecoder = /** @class */function () {\n  function GeneralAppIdDecoder(information) {\n    this.buffer = new StringBuilder();\n    this.information = information;\n  }\n  GeneralAppIdDecoder.prototype.decodeAllCodes = function (buff, initialPosition) {\n    var currentPosition = initialPosition;\n    var remaining = null;\n    do {\n      var info = this.decodeGeneralPurposeField(currentPosition, remaining);\n      var parsedFields = FieldParser.parseFieldsInGeneralPurpose(info.getNewString());\n      if (parsedFields != null) {\n        buff.append(parsedFields);\n      }\n      if (info.isRemaining()) {\n        remaining = '' + info.getRemainingValue();\n      } else {\n        remaining = null;\n      }\n      if (currentPosition === info.getNewPosition()) {\n        // No step forward!\n        break;\n      }\n      currentPosition = info.getNewPosition();\n    } while (true);\n    return buff.toString();\n  };\n  GeneralAppIdDecoder.prototype.isStillNumeric = function (pos) {\n    // It's numeric if it still has 7 positions\n    // and one of the first 4 bits is \"1\".\n    if (pos + 7 > this.information.getSize()) {\n      return pos + 4 <= this.information.getSize();\n    }\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return true;\n      }\n    }\n    return this.information.get(pos + 3);\n  };\n  GeneralAppIdDecoder.prototype.decodeNumeric = function (pos) {\n    if (pos + 7 > this.information.getSize()) {\n      var numeric_1 = this.extractNumericValueFromBitArray(pos, 4);\n      if (numeric_1 === 0) {\n        return new DecodedNumeric(this.information.getSize(), DecodedNumeric.FNC1, DecodedNumeric.FNC1);\n      }\n      return new DecodedNumeric(this.information.getSize(), numeric_1 - 1, DecodedNumeric.FNC1);\n    }\n    var numeric = this.extractNumericValueFromBitArray(pos, 7);\n    var digit1 = (numeric - 8) / 11;\n    var digit2 = (numeric - 8) % 11;\n    return new DecodedNumeric(pos + 7, digit1, digit2);\n  };\n  GeneralAppIdDecoder.prototype.extractNumericValueFromBitArray = function (pos, bits) {\n    return GeneralAppIdDecoder.extractNumericValueFromBitArray(this.information, pos, bits);\n  };\n  GeneralAppIdDecoder.extractNumericValueFromBitArray = function (information, pos, bits) {\n    var value = 0;\n    for (var i = 0; i < bits; ++i) {\n      if (information.get(pos + i)) {\n        value |= 1 << bits - i - 1;\n      }\n    }\n    return value;\n  };\n  GeneralAppIdDecoder.prototype.decodeGeneralPurposeField = function (pos, remaining) {\n    // this.buffer.setLength(0);\n    this.buffer.setLengthToZero();\n    if (remaining != null) {\n      this.buffer.append(remaining);\n    }\n    this.current.setPosition(pos);\n    var lastDecoded = this.parseBlocks();\n    if (lastDecoded != null && lastDecoded.isRemaining()) {\n      return new DecodedInformation(this.current.getPosition(), this.buffer.toString(), lastDecoded.getRemainingValue());\n    }\n    return new DecodedInformation(this.current.getPosition(), this.buffer.toString());\n  };\n  GeneralAppIdDecoder.prototype.parseBlocks = function () {\n    var isFinished;\n    var result;\n    do {\n      var initialPosition = this.current.getPosition();\n      if (this.current.isAlpha()) {\n        result = this.parseAlphaBlock();\n        isFinished = result.isFinished();\n      } else if (this.current.isIsoIec646()) {\n        result = this.parseIsoIec646Block();\n        isFinished = result.isFinished();\n      } else {\n        // it must be numeric\n        result = this.parseNumericBlock();\n        isFinished = result.isFinished();\n      }\n      var positionChanged = initialPosition !== this.current.getPosition();\n      if (!positionChanged && !isFinished) {\n        break;\n      }\n    } while (!isFinished);\n    return result.getDecodedInformation();\n  };\n  GeneralAppIdDecoder.prototype.parseNumericBlock = function () {\n    while (this.isStillNumeric(this.current.getPosition())) {\n      var numeric = this.decodeNumeric(this.current.getPosition());\n      this.current.setPosition(numeric.getNewPosition());\n      if (numeric.isFirstDigitFNC1()) {\n        var information = void 0;\n        if (numeric.isSecondDigitFNC1()) {\n          information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());\n        } else {\n          information = new DecodedInformation(this.current.getPosition(), this.buffer.toString(), numeric.getSecondDigit());\n        }\n        return new BlockParsedResult(true, information);\n      }\n      this.buffer.append(numeric.getFirstDigit());\n      if (numeric.isSecondDigitFNC1()) {\n        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult(true, information);\n      }\n      this.buffer.append(numeric.getSecondDigit());\n    }\n    if (this.isNumericToAlphaNumericLatch(this.current.getPosition())) {\n      this.current.setAlpha();\n      this.current.incrementPosition(4);\n    }\n    return new BlockParsedResult(false);\n  };\n  GeneralAppIdDecoder.prototype.parseIsoIec646Block = function () {\n    while (this.isStillIsoIec646(this.current.getPosition())) {\n      var iso = this.decodeIsoIec646(this.current.getPosition());\n      this.current.setPosition(iso.getNewPosition());\n      if (iso.isFNC1()) {\n        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult(true, information);\n      }\n      this.buffer.append(iso.getValue());\n    }\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n      this.current.setAlpha();\n    }\n    return new BlockParsedResult(false);\n  };\n  GeneralAppIdDecoder.prototype.parseAlphaBlock = function () {\n    while (this.isStillAlpha(this.current.getPosition())) {\n      var alpha = this.decodeAlphanumeric(this.current.getPosition());\n      this.current.setPosition(alpha.getNewPosition());\n      if (alpha.isFNC1()) {\n        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());\n        return new BlockParsedResult(true, information); // end of the char block\n      }\n      this.buffer.append(alpha.getValue());\n    }\n    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {\n      this.current.incrementPosition(3);\n      this.current.setNumeric();\n    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {\n      if (this.current.getPosition() + 5 < this.information.getSize()) {\n        this.current.incrementPosition(5);\n      } else {\n        this.current.setPosition(this.information.getSize());\n      }\n      this.current.setIsoIec646();\n    }\n    return new BlockParsedResult(false);\n  };\n  GeneralAppIdDecoder.prototype.isStillIsoIec646 = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    }\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n    if (pos + 7 > this.information.getSize()) {\n      return false;\n    }\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n    if (sevenBitValue >= 64 && sevenBitValue < 116) {\n      return true;\n    }\n    if (pos + 8 > this.information.getSize()) {\n      return false;\n    }\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    return eightBitValue >= 232 && eightBitValue < 253;\n  };\n  GeneralAppIdDecoder.prototype.decodeIsoIec646 = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue === 15) {\n      return new DecodedChar(pos + 5, DecodedChar.FNC1);\n    }\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar(pos + 5, '0' + (fiveBitValue - 5));\n    }\n    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);\n    if (sevenBitValue >= 64 && sevenBitValue < 90) {\n      return new DecodedChar(pos + 7, '' + (sevenBitValue + 1));\n    }\n    if (sevenBitValue >= 90 && sevenBitValue < 116) {\n      return new DecodedChar(pos + 7, '' + (sevenBitValue + 7));\n    }\n    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);\n    var c;\n    switch (eightBitValue) {\n      case 232:\n        c = '!';\n        break;\n      case 233:\n        c = '\"';\n        break;\n      case 234:\n        c = '%';\n        break;\n      case 235:\n        c = '&';\n        break;\n      case 236:\n        c = '\\'';\n        break;\n      case 237:\n        c = '(';\n        break;\n      case 238:\n        c = ')';\n        break;\n      case 239:\n        c = '*';\n        break;\n      case 240:\n        c = '+';\n        break;\n      case 241:\n        c = ',';\n        break;\n      case 242:\n        c = '-';\n        break;\n      case 243:\n        c = '.';\n        break;\n      case 244:\n        c = '/';\n        break;\n      case 245:\n        c = ':';\n        break;\n      case 246:\n        c = ';';\n        break;\n      case 247:\n        c = '<';\n        break;\n      case 248:\n        c = '=';\n        break;\n      case 249:\n        c = '>';\n        break;\n      case 250:\n        c = '?';\n        break;\n      case 251:\n        c = '_';\n        break;\n      case 252:\n        c = ' ';\n        break;\n      default:\n        throw new FormatException();\n    }\n    return new DecodedChar(pos + 8, c);\n  };\n  GeneralAppIdDecoder.prototype.isStillAlpha = function (pos) {\n    if (pos + 5 > this.information.getSize()) {\n      return false;\n    }\n    // We now check if it's a valid 5-bit value (0..9 and FNC1)\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue >= 5 && fiveBitValue < 16) {\n      return true;\n    }\n    if (pos + 6 > this.information.getSize()) {\n      return false;\n    }\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n    return sixBitValue >= 16 && sixBitValue < 63; // 63 not included\n  };\n  GeneralAppIdDecoder.prototype.decodeAlphanumeric = function (pos) {\n    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);\n    if (fiveBitValue === 15) {\n      return new DecodedChar(pos + 5, DecodedChar.FNC1);\n    }\n    if (fiveBitValue >= 5 && fiveBitValue < 15) {\n      return new DecodedChar(pos + 5, '0' + (fiveBitValue - 5));\n    }\n    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);\n    if (sixBitValue >= 32 && sixBitValue < 58) {\n      return new DecodedChar(pos + 6, '' + (sixBitValue + 33));\n    }\n    var c;\n    switch (sixBitValue) {\n      case 58:\n        c = '*';\n        break;\n      case 59:\n        c = ',';\n        break;\n      case 60:\n        c = '-';\n        break;\n      case 61:\n        c = '.';\n        break;\n      case 62:\n        c = '/';\n        break;\n      default:\n        throw new IllegalStateException('Decoding invalid alphanumeric value: ' + sixBitValue);\n    }\n    return new DecodedChar(pos + 6, c);\n  };\n  GeneralAppIdDecoder.prototype.isAlphaTo646ToAlphaLatch = function (pos) {\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = 0; i < 5 && i + pos < this.information.getSize(); ++i) {\n      if (i === 2) {\n        if (!this.information.get(pos + 2)) {\n          return false;\n        }\n      } else if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  GeneralAppIdDecoder.prototype.isAlphaOr646ToNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 3 positions and they are all zeros\n    if (pos + 3 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = pos; i < pos + 3; ++i) {\n      if (this.information.get(i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  GeneralAppIdDecoder.prototype.isNumericToAlphaNumericLatch = function (pos) {\n    // Next is alphanumeric if there are 4 positions and they are all zeros, or\n    // if there is a subset of this just before the end of the symbol\n    if (pos + 1 > this.information.getSize()) {\n      return false;\n    }\n    for (var i = 0; i < 4 && i + pos < this.information.getSize(); ++i) {\n      if (this.information.get(pos + i)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  return GeneralAppIdDecoder;\n}();\nexport default GeneralAppIdDecoder;","map":{"version":3,"names":["FormatException","IllegalStateException","StringBuilder","BlockParsedResult","DecodedChar","DecodedInformation","DecodedNumeric","FieldParser","GeneralAppIdDecoder","information","buffer","prototype","decodeAllCodes","buff","initialPosition","currentPosition","remaining","info","decodeGeneralPurposeField","parsedFields","parseFieldsInGeneralPurpose","getNewString","append","isRemaining","getRemainingValue","getNewPosition","toString","isStillNumeric","pos","getSize","i","get","decodeNumeric","numeric_1","extractNumericValueFromBitArray","FNC1","numeric","digit1","digit2","bits","value","setLengthToZero","current","setPosition","lastDecoded","parseBlocks","getPosition","isFinished","result","isAlpha","parseAlphaBlock","isIsoIec646","parseIsoIec646Block","parseNumericBlock","positionChanged","getDecodedInformation","isFirstDigitFNC1","isSecondDigitFNC1","getSecondDigit","getFirstDigit","isNumericToAlphaNumericLatch","setAlpha","incrementPosition","isStillIsoIec646","iso","decodeIsoIec646","isFNC1","getValue","isAlphaOr646ToNumericLatch","setNumeric","isAlphaTo646ToAlphaLatch","isStillAlpha","alpha","decodeAlphanumeric","setIsoIec646","fiveBitValue","sevenBitValue","eightBitValue","c","sixBitValue"],"sources":["../../../../../../../src/core/oned/rss/expanded/decoders/GeneralAppIdDecoder.ts"],"sourcesContent":[null],"mappings":"AACA,OAAOA,eAAe,MAAM,6BAA6B;AACzD,OAAOC,qBAAqB,MAAM,mCAAmC;AACrE,OAAOC,aAAa,MAAM,gCAAgC;AAC1D,OAAOC,iBAAiB,MAAM,qBAAqB;AAEnD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,WAAW,MAAM,eAAe;AAEvC,IAAAC,mBAAA;EAME,SAAAA,oBAAYC,WAAqB;IAFhB,KAAAC,MAAM,GAAG,IAAIR,aAAa,EAAE;IAG3C,IAAI,CAACO,WAAW,GAAGA,WAAW;EAChC;EAEAD,mBAAA,CAAAG,SAAA,CAAAC,cAAc,GAAd,UAAeC,IAAmB,EAAEC,eAAuB;IACzD,IAAIC,eAAe,GAAGD,eAAe;IACrC,IAAIE,SAAS,GAAG,IAAI;IACpB,GAAG;MACD,IAAIC,IAAI,GAAG,IAAI,CAACC,yBAAyB,CAACH,eAAe,EAAEC,SAAS,CAAC;MACrE,IAAIG,YAAY,GAAGZ,WAAW,CAACa,2BAA2B,CAACH,IAAI,CAACI,YAAY,EAAE,CAAC;MAC/E,IAAIF,YAAY,IAAI,IAAI,EAAE;QACxBN,IAAI,CAACS,MAAM,CAACH,YAAY,CAAC;;MAE3B,IAAIF,IAAI,CAACM,WAAW,EAAE,EAAE;QACtBP,SAAS,GAAG,EAAE,GAAGC,IAAI,CAACO,iBAAiB,EAAE;OAC1C,MAAM;QACLR,SAAS,GAAG,IAAI;;MAGlB,IAAID,eAAe,KAAKE,IAAI,CAACQ,cAAc,EAAE,EAAE;QAAE;QAC/C;;MAEFV,eAAe,GAAGE,IAAI,CAACQ,cAAc,EAAE;KACxC,QAAQ,IAAI;IAEb,OAAOZ,IAAI,CAACa,QAAQ,EAAE;EACxB,CAAC;EAEOlB,mBAAA,CAAAG,SAAA,CAAAgB,cAAc,GAAtB,UAAuBC,GAAW;IAChC;IACA;IACA,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAOD,GAAG,GAAG,CAAC,IAAI,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE;;IAG9C,KAAK,IAAIC,CAAC,GAAGF,GAAG,EAAEE,CAAC,GAAGF,GAAG,GAAG,CAAC,EAAE,EAAEE,CAAC,EAAE;MAClC,IAAI,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACD,CAAC,CAAC,EAAE;QAC3B,OAAO,IAAI;;;IAIf,OAAO,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACH,GAAG,GAAG,CAAC,CAAC;EACtC,CAAC;EAEOpB,mBAAA,CAAAG,SAAA,CAAAqB,aAAa,GAArB,UAAsBJ,GAAW;IAC/B,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,IAAII,SAAO,GAAG,IAAI,CAACC,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;MAC1D,IAAIK,SAAO,KAAK,CAAC,EAAE;QACjB,OAAO,IAAI3B,cAAc,CAAC,IAAI,CAACG,WAAW,CAACoB,OAAO,EAAE,EAAEvB,cAAc,CAAC6B,IAAI,EAAE7B,cAAc,CAAC6B,IAAI,CAAC;;MAEjG,OAAO,IAAI7B,cAAc,CAAC,IAAI,CAACG,WAAW,CAACoB,OAAO,EAAE,EAAEI,SAAO,GAAG,CAAC,EAAE3B,cAAc,CAAC6B,IAAI,CAAC;;IAEzF,IAAIC,OAAO,GAAG,IAAI,CAACF,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAE1D,IAAIS,MAAM,GAAG,CAACD,OAAO,GAAG,CAAC,IAAI,EAAE;IAC/B,IAAIE,MAAM,GAAG,CAACF,OAAO,GAAG,CAAC,IAAI,EAAE;IAE/B,OAAO,IAAI9B,cAAc,CAACsB,GAAG,GAAG,CAAC,EAAES,MAAM,EAAEC,MAAM,CAAC;EACpD,CAAC;EAED9B,mBAAA,CAAAG,SAAA,CAAAuB,+BAA+B,GAA/B,UAAgCN,GAAW,EAAEW,IAAY;IACvD,OAAO/B,mBAAmB,CAAC0B,+BAA+B,CAAC,IAAI,CAACzB,WAAW,EAAEmB,GAAG,EAAEW,IAAI,CAAC;EACzF,CAAC;EAEM/B,mBAAA,CAAA0B,+BAA+B,GAAtC,UAAuCzB,WAAqB,EAAEmB,GAAW,EAAEW,IAAY;IACrF,IAAIC,KAAK,GAAG,CAAC;IACb,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGS,IAAI,EAAE,EAAET,CAAC,EAAE;MAC7B,IAAIrB,WAAW,CAACsB,GAAG,CAACH,GAAG,GAAGE,CAAC,CAAC,EAAE;QAC5BU,KAAK,IAAI,CAAC,IAAKD,IAAI,GAAGT,CAAC,GAAG,CAAE;;;IAIhC,OAAOU,KAAK;EACd,CAAC;EAEDhC,mBAAA,CAAAG,SAAA,CAAAO,yBAAyB,GAAzB,UAA0BU,GAAW,EAAEZ,SAAiB;IACtD;IACA,IAAI,CAACN,MAAM,CAAC+B,eAAe,EAAE;IAE7B,IAAIzB,SAAS,IAAI,IAAI,EAAE;MACrB,IAAI,CAACN,MAAM,CAACY,MAAM,CAACN,SAAS,CAAC;;IAG/B,IAAI,CAAC0B,OAAO,CAACC,WAAW,CAACf,GAAG,CAAC;IAE7B,IAAIgB,WAAW,GAAG,IAAI,CAACC,WAAW,EAAE;IACpC,IAAID,WAAW,IAAI,IAAI,IAAIA,WAAW,CAACrB,WAAW,EAAE,EAAE;MACpD,OAAO,IAAIlB,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,EAAEkB,WAAW,CAACpB,iBAAiB,EAAE,CAAC;;IAEpH,OAAO,IAAInB,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,CAAC;EACnF,CAAC;EAEOlB,mBAAA,CAAAG,SAAA,CAAAkC,WAAW,GAAnB;IACE,IAAIE,UAAmB;IACvB,IAAIC,MAAyB;IAC7B,GAAG;MACD,IAAIlC,eAAe,GAAG,IAAI,CAAC4B,OAAO,CAACI,WAAW,EAAE;MAEhD,IAAI,IAAI,CAACJ,OAAO,CAACO,OAAO,EAAE,EAAE;QAC1BD,MAAM,GAAG,IAAI,CAACE,eAAe,EAAE;QAC/BH,UAAU,GAAGC,MAAM,CAACD,UAAU,EAAE;OACjC,MAAM,IAAI,IAAI,CAACL,OAAO,CAACS,WAAW,EAAE,EAAE;QACrCH,MAAM,GAAG,IAAI,CAACI,mBAAmB,EAAE;QACnCL,UAAU,GAAGC,MAAM,CAACD,UAAU,EAAE;OACjC,MAAM;QAAE;QACPC,MAAM,GAAG,IAAI,CAACK,iBAAiB,EAAE;QACjCN,UAAU,GAAGC,MAAM,CAACD,UAAU,EAAE;;MAGlC,IAAIO,eAAe,GAAYxC,eAAe,KAAK,IAAI,CAAC4B,OAAO,CAACI,WAAW,EAAE;MAC7E,IAAI,CAACQ,eAAe,IAAI,CAACP,UAAU,EAAE;QACnC;;KAEH,QAAQ,CAACA,UAAU;IAEpB,OAAOC,MAAM,CAACO,qBAAqB,EAAE;EACvC,CAAC;EAEO/C,mBAAA,CAAAG,SAAA,CAAA0C,iBAAiB,GAAzB;IACE,OAAO,IAAI,CAAC1B,cAAc,CAAC,IAAI,CAACe,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACtD,IAAIV,OAAO,GAAmB,IAAI,CAACJ,aAAa,CAAC,IAAI,CAACU,OAAO,CAACI,WAAW,EAAE,CAAC;MAC5E,IAAI,CAACJ,OAAO,CAACC,WAAW,CAACP,OAAO,CAACX,cAAc,EAAE,CAAC;MAElD,IAAIW,OAAO,CAACoB,gBAAgB,EAAE,EAAE;QAC9B,IAAI/C,WAAW,SAAoB;QACnC,IAAI2B,OAAO,CAACqB,iBAAiB,EAAE,EAAE;UAC/BhD,WAAW,GAAG,IAAIJ,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,CAAC;SACzF,MAAM;UACLjB,WAAW,GAAG,IAAIJ,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,EAAEU,OAAO,CAACsB,cAAc,EAAE,CAAC;;QAEpH,OAAO,IAAIvD,iBAAiB,CAAC,IAAI,EAAEM,WAAW,CAAC;;MAEjD,IAAI,CAACC,MAAM,CAACY,MAAM,CAACc,OAAO,CAACuB,aAAa,EAAE,CAAC;MAE3C,IAAIvB,OAAO,CAACqB,iBAAiB,EAAE,EAAE;QAC/B,IAAIhD,WAAW,GAAG,IAAIJ,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,CAAC;QAC5F,OAAO,IAAIvB,iBAAiB,CAAC,IAAI,EAAEM,WAAW,CAAC;;MAEjD,IAAI,CAACC,MAAM,CAACY,MAAM,CAACc,OAAO,CAACsB,cAAc,EAAE,CAAC;;IAG9C,IAAI,IAAI,CAACE,4BAA4B,CAAC,IAAI,CAAClB,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACjE,IAAI,CAACJ,OAAO,CAACmB,QAAQ,EAAE;MACvB,IAAI,CAACnB,OAAO,CAACoB,iBAAiB,CAAC,CAAC,CAAC;;IAEnC,OAAO,IAAI3D,iBAAiB,CAAC,KAAK,CAAC;EACrC,CAAC;EAEOK,mBAAA,CAAAG,SAAA,CAAAyC,mBAAmB,GAA3B;IACE,OAAO,IAAI,CAACW,gBAAgB,CAAC,IAAI,CAACrB,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACxD,IAAIkB,GAAG,GAAG,IAAI,CAACC,eAAe,CAAC,IAAI,CAACvB,OAAO,CAACI,WAAW,EAAE,CAAC;MAC1D,IAAI,CAACJ,OAAO,CAACC,WAAW,CAACqB,GAAG,CAACvC,cAAc,EAAE,CAAC;MAE9C,IAAIuC,GAAG,CAACE,MAAM,EAAE,EAAE;QAChB,IAAIzD,WAAW,GAAG,IAAIJ,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,CAAC;QAC5F,OAAO,IAAIvB,iBAAiB,CAAC,IAAI,EAAEM,WAAW,CAAC;;MAEjD,IAAI,CAACC,MAAM,CAACY,MAAM,CAAC0C,GAAG,CAACG,QAAQ,EAAE,CAAC;;IAGpC,IAAI,IAAI,CAACC,0BAA0B,CAAC,IAAI,CAAC1B,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MAC/D,IAAI,CAACJ,OAAO,CAACoB,iBAAiB,CAAC,CAAC,CAAC;MACjC,IAAI,CAACpB,OAAO,CAAC2B,UAAU,EAAE;KAC1B,MAAM,IAAI,IAAI,CAACC,wBAAwB,CAAC,IAAI,CAAC5B,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACpE,IAAI,IAAI,CAACJ,OAAO,CAACI,WAAW,EAAE,GAAG,CAAC,GAAG,IAAI,CAACrC,WAAW,CAACoB,OAAO,EAAE,EAAE;QAC/D,IAAI,CAACa,OAAO,CAACoB,iBAAiB,CAAC,CAAC,CAAC;OAClC,MAAM;QACL,IAAI,CAACpB,OAAO,CAACC,WAAW,CAAC,IAAI,CAAClC,WAAW,CAACoB,OAAO,EAAE,CAAC;;MAGtD,IAAI,CAACa,OAAO,CAACmB,QAAQ,EAAE;;IAEzB,OAAO,IAAI1D,iBAAiB,CAAC,KAAK,CAAC;EACrC,CAAC;EAEOK,mBAAA,CAAAG,SAAA,CAAAuC,eAAe,GAAvB;IACE,OAAO,IAAI,CAACqB,YAAY,CAAC,IAAI,CAAC7B,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACpD,IAAI0B,KAAK,GAAG,IAAI,CAACC,kBAAkB,CAAC,IAAI,CAAC/B,OAAO,CAACI,WAAW,EAAE,CAAC;MAC/D,IAAI,CAACJ,OAAO,CAACC,WAAW,CAAC6B,KAAK,CAAC/C,cAAc,EAAE,CAAC;MAEhD,IAAI+C,KAAK,CAACN,MAAM,EAAE,EAAE;QAClB,IAAIzD,WAAW,GAAG,IAAIJ,kBAAkB,CAAC,IAAI,CAACqC,OAAO,CAACI,WAAW,EAAE,EAAE,IAAI,CAACpC,MAAM,CAACgB,QAAQ,EAAE,CAAC;QAC5F,OAAO,IAAIvB,iBAAiB,CAAC,IAAI,EAAEM,WAAW,CAAC,CAAC,CAAC;;MAGnD,IAAI,CAACC,MAAM,CAACY,MAAM,CAACkD,KAAK,CAACL,QAAQ,EAAE,CAAC;;IAGtC,IAAI,IAAI,CAACC,0BAA0B,CAAC,IAAI,CAAC1B,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MAC/D,IAAI,CAACJ,OAAO,CAACoB,iBAAiB,CAAC,CAAC,CAAC;MACjC,IAAI,CAACpB,OAAO,CAAC2B,UAAU,EAAE;KAC1B,MAAM,IAAI,IAAI,CAACC,wBAAwB,CAAC,IAAI,CAAC5B,OAAO,CAACI,WAAW,EAAE,CAAC,EAAE;MACpE,IAAI,IAAI,CAACJ,OAAO,CAACI,WAAW,EAAE,GAAG,CAAC,GAAG,IAAI,CAACrC,WAAW,CAACoB,OAAO,EAAE,EAAE;QAC/D,IAAI,CAACa,OAAO,CAACoB,iBAAiB,CAAC,CAAC,CAAC;OAClC,MAAM;QACL,IAAI,CAACpB,OAAO,CAACC,WAAW,CAAC,IAAI,CAAClC,WAAW,CAACoB,OAAO,EAAE,CAAC;;MAGtD,IAAI,CAACa,OAAO,CAACgC,YAAY,EAAE;;IAE7B,OAAO,IAAIvE,iBAAiB,CAAC,KAAK,CAAC;EACrC,CAAC;EAEOK,mBAAA,CAAAG,SAAA,CAAAoD,gBAAgB,GAAxB,UAAyBnC,GAAW;IAClC,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,IAAI8C,YAAY,GAAG,IAAI,CAACzC,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAC/D,IAAI+C,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAG,EAAE,EAAE;MAC1C,OAAO,IAAI;;IAGb,IAAI/C,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,IAAI+C,aAAa,GAAG,IAAI,CAAC1C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAChE,IAAIgD,aAAa,IAAI,EAAE,IAAIA,aAAa,GAAG,GAAG,EAAE;MAC9C,OAAO,IAAI;;IAGb,IAAIhD,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,IAAIgD,aAAa,GAAG,IAAI,CAAC3C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAChE,OAAOiD,aAAa,IAAI,GAAG,IAAIA,aAAa,GAAG,GAAG;EAEpD,CAAC;EAEOrE,mBAAA,CAAAG,SAAA,CAAAsD,eAAe,GAAvB,UAAwBrC,GAAW;IACjC,IAAI+C,YAAY,GAAG,IAAI,CAACzC,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAC/D,IAAI+C,YAAY,KAAK,EAAE,EAAE;MACvB,OAAO,IAAIvE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAExB,WAAW,CAAC+B,IAAI,CAAC;;IAGnD,IAAIwC,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAG,EAAE,EAAE;MAC1C,OAAO,IAAIvE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAG,GAAG,IAAI+C,YAAY,GAAG,CAAC,CAAE,CAAC;;IAG7D,IAAIC,aAAa,GAAG,IAAI,CAAC1C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAEhE,IAAIgD,aAAa,IAAI,EAAE,IAAIA,aAAa,GAAG,EAAE,EAAE;MAC7C,OAAO,IAAIxE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAG,EAAE,IAAIgD,aAAa,GAAG,CAAC,CAAE,CAAC;;IAG7D,IAAIA,aAAa,IAAI,EAAE,IAAIA,aAAa,GAAG,GAAG,EAAE;MAC9C,OAAO,IAAIxE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAG,EAAE,IAAIgD,aAAa,GAAG,CAAC,CAAE,CAAC;;IAG7D,IAAIC,aAAa,GAAG,IAAI,CAAC3C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAChE,IAAIkD,CAAC;IACL,QAAQD,aAAa;MACnB,KAAK,GAAG;QACNC,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,IAAI;QACR;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,GAAG;QACNA,CAAC,GAAG,GAAG;QACP;MACF;QACE,MAAM,IAAI9E,eAAe,EAAE;;IAE/B,OAAO,IAAII,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAEkD,CAAC,CAAC;EACpC,CAAC;EAEOtE,mBAAA,CAAAG,SAAA,CAAA4D,YAAY,GAApB,UAAqB3C,GAAW;IAC9B,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd;IACA,IAAI8C,YAAY,GAAG,IAAI,CAACzC,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAC/D,IAAI+C,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAG,EAAE,EAAE;MAC1C,OAAO,IAAI;;IAGb,IAAI/C,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,IAAIkD,WAAW,GAAG,IAAI,CAAC7C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAC9D,OAAOmD,WAAW,IAAI,EAAE,IAAIA,WAAW,GAAG,EAAE,CAAC,CAAC;EAChD,CAAC;EAEOvE,mBAAA,CAAAG,SAAA,CAAA8D,kBAAkB,GAA1B,UAA2B7C,GAAW;IACpC,IAAI+C,YAAY,GAAG,IAAI,CAACzC,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAC/D,IAAI+C,YAAY,KAAK,EAAE,EAAE;MACvB,OAAO,IAAIvE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAExB,WAAW,CAAC+B,IAAI,CAAC;;IAGnD,IAAIwC,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAG,EAAE,EAAE;MAC1C,OAAO,IAAIvE,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAG,GAAG,IAAI+C,YAAY,GAAG,CAAC,CAAE,CAAC;;IAG7D,IAAII,WAAW,GAAG,IAAI,CAAC7C,+BAA+B,CAACN,GAAG,EAAE,CAAC,CAAC;IAE9D,IAAImD,WAAW,IAAI,EAAE,IAAIA,WAAW,GAAG,EAAE,EAAE;MACzC,OAAO,IAAI3E,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAG,EAAE,IAAImD,WAAW,GAAG,EAAE,CAAE,CAAC;;IAG5D,IAAID,CAAC;IACL,QAAQC,WAAW;MACjB,KAAK,EAAE;QACLD,CAAC,GAAG,GAAG;QACP;MACF,KAAK,EAAE;QACLA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,EAAE;QACLA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,EAAE;QACLA,CAAC,GAAG,GAAG;QACP;MACF,KAAK,EAAE;QACLA,CAAC,GAAG,GAAG;QACP;MACF;QACE,MAAM,IAAI7E,qBAAqB,CAAC,uCAAuC,GAAG8E,WAAW,CAAC;;IAE1F,OAAO,IAAI3E,WAAW,CAACwB,GAAG,GAAG,CAAC,EAAEkD,CAAC,CAAC;EACpC,CAAC;EAEOtE,mBAAA,CAAAG,SAAA,CAAA2D,wBAAwB,GAAhC,UAAiC1C,GAAW;IAC1C,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAGF,GAAG,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE,EAAEC,CAAC,EAAE;MAClE,IAAIA,CAAC,KAAK,CAAC,EAAE;QACX,IAAI,CAAC,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACH,GAAG,GAAG,CAAC,CAAC,EAAE;UAClC,OAAO,KAAK;;OAEf,MAAM,IAAI,IAAI,CAACnB,WAAW,CAACsB,GAAG,CAACH,GAAG,GAAGE,CAAC,CAAC,EAAE;QACxC,OAAO,KAAK;;;IAIhB,OAAO,IAAI;EACb,CAAC;EAEOtB,mBAAA,CAAAG,SAAA,CAAAyD,0BAA0B,GAAlC,UAAmCxC,GAAW;IAC5C;IACA,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,KAAK,IAAIC,CAAC,GAAGF,GAAG,EAAEE,CAAC,GAAGF,GAAG,GAAG,CAAC,EAAE,EAAEE,CAAC,EAAE;MAClC,IAAI,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACD,CAAC,CAAC,EAAE;QAC3B,OAAO,KAAK;;;IAGhB,OAAO,IAAI;EACb,CAAC;EAEOtB,mBAAA,CAAAG,SAAA,CAAAiD,4BAA4B,GAApC,UAAqChC,GAAW;IAC9C;IACA;IACA,IAAIA,GAAG,GAAG,CAAC,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE;MACxC,OAAO,KAAK;;IAGd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAGF,GAAG,GAAG,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE,EAAE,EAAEC,CAAC,EAAE;MAClE,IAAI,IAAI,CAACrB,WAAW,CAACsB,GAAG,CAACH,GAAG,GAAGE,CAAC,CAAC,EAAE;QACjC,OAAO,KAAK;;;IAGhB,OAAO,IAAI;EACb,CAAC;EAGH,OAAAtB,mBAAC;AAAD,CAAC,CAnbD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}