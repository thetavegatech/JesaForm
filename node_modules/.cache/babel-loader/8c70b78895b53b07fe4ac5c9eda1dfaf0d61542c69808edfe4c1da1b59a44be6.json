{"ast":null,"code":"/*\n * Copyright 2013 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n// package com.google.zxing.pdf417.decoder;\n// import java.util.Formatter;\nimport Formatter from '../../util/Formatter';\nimport BoundingBox from './BoundingBox';\n/**\n * @author Guenther Grau\n */\nvar DetectionResultColumn = /** @class */function () {\n  function DetectionResultColumn(boundingBox) {\n    this.boundingBox = new BoundingBox(boundingBox);\n    // this.codewords = new Codeword[boundingBox.getMaxY() - boundingBox.getMinY() + 1];\n    this.codewords = new Array(boundingBox.getMaxY() - boundingBox.getMinY() + 1);\n  }\n  /*final*/\n  DetectionResultColumn.prototype.getCodewordNearby = function (imageRow) {\n    var codeword = this.getCodeword(imageRow);\n    if (codeword != null) {\n      return codeword;\n    }\n    for (var i = 1; i < DetectionResultColumn.MAX_NEARBY_DISTANCE; i++) {\n      var nearImageRow = this.imageRowToCodewordIndex(imageRow) - i;\n      if (nearImageRow >= 0) {\n        codeword = this.codewords[nearImageRow];\n        if (codeword != null) {\n          return codeword;\n        }\n      }\n      nearImageRow = this.imageRowToCodewordIndex(imageRow) + i;\n      if (nearImageRow < this.codewords.length) {\n        codeword = this.codewords[nearImageRow];\n        if (codeword != null) {\n          return codeword;\n        }\n      }\n    }\n    return null;\n  };\n  /*final int*/\n  DetectionResultColumn.prototype.imageRowToCodewordIndex = function (imageRow) {\n    return imageRow - this.boundingBox.getMinY();\n  };\n  /*final void*/\n  DetectionResultColumn.prototype.setCodeword = function (imageRow, codeword) {\n    this.codewords[this.imageRowToCodewordIndex(imageRow)] = codeword;\n  };\n  /*final*/\n  DetectionResultColumn.prototype.getCodeword = function (imageRow) {\n    return this.codewords[this.imageRowToCodewordIndex(imageRow)];\n  };\n  /*final*/\n  DetectionResultColumn.prototype.getBoundingBox = function () {\n    return this.boundingBox;\n  };\n  /*final*/\n  DetectionResultColumn.prototype.getCodewords = function () {\n    return this.codewords;\n  };\n  // @Override\n  DetectionResultColumn.prototype.toString = function () {\n    var e_1, _a;\n    var formatter = new Formatter();\n    var row = 0;\n    try {\n      for (var _b = __values(this.codewords), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var codeword = _c.value;\n        if (codeword == null) {\n          formatter.format('%3d:    |   %n', row++);\n          continue;\n        }\n        formatter.format('%3d: %3d|%3d%n', row++, codeword.getRowNumber(), codeword.getValue());\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    return formatter.toString();\n  };\n  DetectionResultColumn.MAX_NEARBY_DISTANCE = 5;\n  return DetectionResultColumn;\n}();\nexport default DetectionResultColumn;","map":{"version":3,"names":["Formatter","BoundingBox","DetectionResultColumn","boundingBox","codewords","Array","getMaxY","getMinY","prototype","getCodewordNearby","imageRow","codeword","getCodeword","i","MAX_NEARBY_DISTANCE","nearImageRow","imageRowToCodewordIndex","length","setCodeword","getBoundingBox","getCodewords","toString","formatter","row","_b","__values","_c","next","done","value","format","getRowNumber","getValue"],"sources":["../../../../../src/core/pdf417/decoder/DetectionResultColumn.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}