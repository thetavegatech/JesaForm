{"ast":null,"code":"/*\n * Copyright 2008 ZXing authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/*namespace com.google.zxing.oned {*/\nimport BarcodeFormat from '../BarcodeFormat';\nimport Result from '../Result';\nimport NotFoundException from '../NotFoundException';\nimport EAN13Reader from './EAN13Reader';\nimport UPCEANReader from './UPCEANReader';\n/**\n * Encapsulates functionality and implementation that is common to all families\n * of one-dimensional barcodes.\n *\n * @author dswitkin@google.com (Daniel Switkin)\n * @author Sean Owen\n * @author sam2332 (Sam Rudloff)\n *\n * @source https://github.com/zxing/zxing/blob/3c96923276dd5785d58eb970b6ba3f80d36a9505/core/src/main/java/com/google/zxing/oned/UPCAReader.java\n *\n * @experimental\n */\nvar UPCAReader = /** @class */function (_super) {\n  __extends(UPCAReader, _super);\n  function UPCAReader() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.ean13Reader = new EAN13Reader();\n    return _this;\n  }\n  // @Override\n  UPCAReader.prototype.getBarcodeFormat = function () {\n    return BarcodeFormat.UPC_A;\n  };\n  // Note that we don't try rotation without the try harder flag, even if rotation was supported.\n  // @Override\n  UPCAReader.prototype.decode = function (image, hints) {\n    return this.maybeReturnResult(this.ean13Reader.decode(image));\n  };\n  // @Override\n  UPCAReader.prototype.decodeRow = function (rowNumber, row, hints) {\n    return this.maybeReturnResult(this.ean13Reader.decodeRow(rowNumber, row, hints));\n  };\n  // @Override\n  UPCAReader.prototype.decodeMiddle = function (row, startRange, resultString) {\n    return this.ean13Reader.decodeMiddle(row, startRange, resultString);\n  };\n  UPCAReader.prototype.maybeReturnResult = function (result) {\n    var text = result.getText();\n    if (text.charAt(0) === '0') {\n      var upcaResult = new Result(text.substring(1), null, null, result.getResultPoints(), BarcodeFormat.UPC_A);\n      if (result.getResultMetadata() != null) {\n        upcaResult.putAllMetadata(result.getResultMetadata());\n      }\n      return upcaResult;\n    } else {\n      throw new NotFoundException();\n    }\n  };\n  UPCAReader.prototype.reset = function () {\n    this.ean13Reader.reset();\n  };\n  return UPCAReader;\n}(UPCEANReader);\nexport default UPCAReader;","map":{"version":3,"names":["BarcodeFormat","Result","NotFoundException","EAN13Reader","UPCEANReader","UPCAReader","_super","__extends","_this","apply","arguments","ean13Reader","prototype","getBarcodeFormat","UPC_A","decode","image","hints","maybeReturnResult","decodeRow","rowNumber","row","decodeMiddle","startRange","resultString","result","text","getText","charAt","upcaResult","substring","getResultPoints","getResultMetadata","putAllMetadata","reset"],"sources":["../../../../src/core/oned/UPCAReader.ts"],"sourcesContent":[null],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBA;AAEA,OAAOA,aAAa,MAAM,kBAAkB;AAM5C,OAAOC,MAAM,MAAM,WAAW;AAG9B,OAAOC,iBAAiB,MAAM,sBAAsB;AAEpD,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,gBAAgB;AAGzC;;;;;;;;;;;;AAYA,IAAAC,UAAA,0BAAAC,MAAA;EAAwCC,SAAA,CAAAF,UAAA,EAAAC,MAAA;EAAxC,SAAAD,WAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAEmBF,KAAA,CAAAG,WAAW,GAAG,IAAIR,WAAW,EAAE;;EAuClD;EArCE;EACOE,UAAA,CAAAO,SAAA,CAAAC,gBAAgB,GAAvB;IACE,OAAOb,aAAa,CAACc,KAAK;EAC5B,CAAC;EAED;EACA;EACOT,UAAA,CAAAO,SAAA,CAAAG,MAAM,GAAb,UAAcC,KAAmB,EAAEC,KAAgC;IACjE,OAAO,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACP,WAAW,CAACI,MAAM,CAACC,KAAK,CAAC,CAAC;EAC/D,CAAC;EAED;EACOX,UAAA,CAAAO,SAAA,CAAAO,SAAS,GAAhB,UAAiBC,SAAiB,EAAEC,GAAa,EAAEJ,KAAgC;IACjF,OAAO,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACP,WAAW,CAACQ,SAAS,CAACC,SAAS,EAAEC,GAAG,EAAEJ,KAAK,CAAC,CAAC;EAClF,CAAC;EAED;EACOZ,UAAA,CAAAO,SAAA,CAAAU,YAAY,GAAnB,UAAoBD,GAAa,EAAEE,UAAsB,EAAEC,YAAoB;IAC7E,OAAO,IAAI,CAACb,WAAW,CAACW,YAAY,CAACD,GAAG,EAAEE,UAAU,EAAEC,YAAY,CAAC;EACrE,CAAC;EAEMnB,UAAA,CAAAO,SAAA,CAAAM,iBAAiB,GAAxB,UAAyBO,MAAc;IACrC,IAAIC,IAAI,GAAGD,MAAM,CAACE,OAAO,EAAE;IAC3B,IAAID,IAAI,CAACE,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;MAC1B,IAAIC,UAAU,GAAG,IAAI5B,MAAM,CAACyB,IAAI,CAACI,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAEL,MAAM,CAACM,eAAe,EAAE,EAAE/B,aAAa,CAACc,KAAK,CAAC;MACzG,IAAIW,MAAM,CAACO,iBAAiB,EAAE,IAAI,IAAI,EAAE;QACtCH,UAAU,CAACI,cAAc,CAACR,MAAM,CAACO,iBAAiB,EAAE,CAAC;;MAEvD,OAAOH,UAAU;KAClB,MAAM;MACL,MAAM,IAAI3B,iBAAiB,EAAE;;EAEjC,CAAC;EAEMG,UAAA,CAAAO,SAAA,CAAAsB,KAAK,GAAZ;IACE,IAAI,CAACvB,WAAW,CAACuB,KAAK,EAAE;EAC1B,CAAC;EACH,OAAA7B,UAAC;AAAD,CAAC,CAzCuCD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}